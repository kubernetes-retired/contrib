apiVersion: v1
kind: Pod
metadata:
  name: kube-scheduler
spec:
  hostNetwork: true
  containers:
  - name: kube-scheduler
    image: gcr.io/google_containers/hyperkube:{{ hyperkube_version }}
    args:
      - /hyperkube
      - scheduler
      - --kubeconfig={{ kube_config_dir }}/scheduler.kubeconfig
      - --v=2
      - --log-dir=/var/log/kube-scheduler.log
    livenessProbe:
      httpGet:
        path: /healthz
        port: 10252
      initialDelaySeconds: 15
      timeoutSeconds: 1
    volumeMounts:
    - mountPath: {{ kube_config_dir }}/scheduler.kubeconfig
      name: kubeconfig
      readOnly: true
    - mountPath: /var/log/kube-scheduler.log
      name: logfile
    - mountPath: {{ kube_cert_dir }}
      name: srvkube
      readOnly: true
  hostNetwork: true
  volumes:
  - hostPath:
      path: {{ kube_cert_dir }}
    name: srvkube
  - hostPath:
      path: {{ kube_config_dir }}/scheduler.kubeconfig
    name: kubeconfig
  - hostPath:
      path: /var/log/kube-scheduler.log
    name: logfile
